replicas: 1

revisionHistoryLimit: 0

image:
  registry: docker.io
  repository: koenkk/zigbee2mqtt
  tag: 1.35.1

resources:
  limits:
    device.local/zigbee: 1
  requests:
    device.local/zigbee: 1

podSecurityContext:
#  runAsUser: 1001
#  runAsGroup: 1001
#  fsGroup: 1001
#  runAsNonRoot: true

securityContext:
#  allowPrivilegeEscalation: false
#  capabilities:
#    drop: [ "ALL" ]
#  readOnlyRootFilesystem: true
#  seccompProfile:
#    type: RuntimeDefault

persistence:
  accessMode: ReadWriteOnce
  size: 1Gi

ingress:
  enabled: true
  domain: zigbee.cloud.feddema.dev
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-dns

nodeSelector:
  sonoff.tech/zigbee-dongle-plus-e: "true"


config:
  image:
    registry: docker.io
    repository: busybox
    tag: 1.36.1

  secretName: zigbee2mqtt-config

  fileContent:
    permit_join: true
    mqtt:
      base_topic: zigbee2mqtt
      server: mqtts://emqx-listeners.emqx:8883
      user: '!secret.yaml mqtt.user'
      password: '!secret.yaml mqtt.password'
    serial:
      port: /dev/ttyACM0
      adapter: ezsp
    frontend:
      port: 8080
