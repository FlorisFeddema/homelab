kuberhealthy:
  checkReaper:
    logLevel: error
    maxKHJobAge: 15m # Maximum age of the khjob resource before being reaped. Valid time units: "ns", "us" (or "µs"), "ms", "s", "m", "h"
    maxCheckPodAge: 72h # Maximum age of khcheck/khjob pods before being reaped. Valid time units: "ns", "us" (or "µs"), "ms", "s", "m", "h"
    maxCompletedPodCount: 4 # Maximum number of khcheck/khjob pods in Completed state before being reaped. If not set or set to 0, no completed khjob/khcheck pod will remain.
    maxErrorPodCount: 4 # Maximum number of khcheck/khjob pods in Error state before being reaped. If not set or set to 0, no completed khjob/khcheck pod will remain.

  prometheus:
    enabled: true

    grafanaDashboard:
      enabled: true
      label: grafana_dashboard
      labelValue: "1"

    serviceMonitor:
      enabled: true

    prometheusRule:
      enabled: true

  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      memory: 256Mi

  podDisruptionBudget:
    minAvailable: 1

  tolerations:
    master: true

  deployment:
    replicas: 2

    env:
      CHECK_REAPER_RUN_INTERVAL: "30s" # Interval for how often check pods should get reaped. Default is 30s

  check:
    daemonset:
      enabled: true
      image:
        registry: docker.io
        repository: kuberhealthy/daemonset-check
        tag: v3.3.0
    deployment:
      enabled: true
      image:
        registry: docker.io
        repository: kuberhealthy/deployment-check
        tag: v1.9.0
    dnsInternal:
      enabled: true
      image:
        registry: docker.io
        repository: kuberhealthy/dns-resolution-check
        tag: v1.5.0
      extraEnvs:
        HOSTNAME: "cluster.local"
    dnsExternal:
      enabled: true
      image:
        registry: docker.io
        repository: kuberhealthy/dns-resolution-check
        tag: v1.5.0
      extraEnvs:
        HOSTNAME: "google.com"
    podRestarts:
      enabled: true
      image:
        registry: docker.io
        repository: kuberhealthy/pod-restarts-check
        tag: v2.5.0
      allNamespaces: true
      extraEnvs:
        MAX_FAILURES_ALLOWED: "1"
    podStatus:
      enabled: true
      image:
        registry: docker.io
        repository: kuberhealthy/pod-status-check
        tag: v1.3.0
      allNamespaces: true
    storage:
      enabled: true
      image:
        registry: docker.io
        repository: chrishirsch/kuberhealthy-storage-check
        tag: v0.0.1
    networkConnection:
      enabled: true
      extraEnvs:
        CONNECTION_TARGET: "tcp://github.com:443"
