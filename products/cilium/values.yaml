cilium:
  k8sServiceHost: gerador.feddema.dev
  k8sServicePort: 6443
  kubeProxyReplacement: strict

  ipam:
    mode: kubernetes

  hostFirewall:
    enabled: true

  securityContext:
    capabilities:
      ciliumAgent: [ CHOWN,KILL,NET_ADMIN,NET_RAW,IPC_LOCK,SYS_ADMIN,SYS_RESOURCE,DAC_OVERRIDE,FOWNER,SETGID,SETUID ]
      cleanCiliumState: [ NET_ADMIN,SYS_ADMIN,SYS_RESOURCE ]
  cgroup:
    autoMount:
      enabled: false
    hostRoot: /sys/fs/cgroup

  resources:
    limits:
      memory: 1500Mi
    requests:
      memory: 512Mi
      cpu: 100m

  bgpControlPlane:
    enabled: false

  certgen:
    ttlSecondsAfterFinished: null

  rollOutCiliumPods: true

  hubble:
    enabled: false

    tls:
      auto:
        method: cronJob

    metrics:
      enableOpenMetrics: false
      serviceMonitor:
        enabled: false
      dashboards:
        enabled: false
        namespace: grafana
        label: grafana_dashboard

    relay:
      enabled: false
      rollOutPods: true
      resources: { }
      prometheus:
        enabled: false
        serviceMonitor:
          enabled: false

    ui:
      enabled: false
      rollOutPods: true
      backend:
        resources: { }
      frontend:
        resources: { }

      ingress:
        enabled: false
        annotations:
          nginx.ingress.kubernetes.io/auth-url: |-
            http://ak-outpost-authentik-embedded-outpost.authentik.svc.cluster.local:9000/outpost.goauthentik.io/auth/nginx
          nginx.ingress.kubernetes.io/auth-signin: |-
            https://hubble.feddema.dev/outpost.goauthentik.io/start?rd=$escaped_request_uri
          nginx.ingress.kubernetes.io/auth-response-headers: |-
            Set-Cookie,X-authentik-username,X-authentik-groups,X-authentik-email,X-authentik-name,X-authentik-uid
          nginx.ingress.kubernetes.io/auth-snippet: |
            proxy_set_header X-Forwarded-Host $http_host;
          cert-manager.io/cluster-issuer: letsencrypt-dns
        hosts:
          - hubble.feddema.dev
        tls:
          - secretName: hubble-tls
            hosts:
              - hubble.feddema.dev

  monitor:
    enabled: false

  prometheus:
    enabled: false
    serviceMonitor:
      enabled: false
  dashboards:
    enabled: false
    namespace: grafana
    label: grafana_dashboard

  operator:
    replicas: 1
    resources: { }
    prometheus:
      enabled: false
      serviceMonitor:
        enabled: false
    dashboards:
      enabled: false
      namespace: grafana
      label: grafana_dashboard
