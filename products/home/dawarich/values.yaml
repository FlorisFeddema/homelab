gatus-monitor:
  appName: dawarich
  publicEndpoints:
    - name: dawarich
  privateEndpoints:
    - name: dawarich

dawarich:
  database:
    backups:
      enabled: true
      destination: 'https://feddemadevbackups.blob.core.windows.net/cnpg'
      retention: '14d'
      schedule: '0 23 4 * * *'
      secretName: 'azure-db-store'
      azure:
        connectionStringKeyName: 'CONNECTION_STRING'

    storageClass: ceph-block-nvme-2
    topologySpreadConstraints:
      - maxSkew: 1
        topologyKey: kubernetes.io/hostname
        whenUnsatisfiable: ScheduleAnyway
      - maxSkew: 1
        topologyKey: topology.kubernetes.io/zone
        whenUnsatisfiable: ScheduleAnyway

  route:
    enabled: true
    hostnames:
      - dawarich.feddema.dev
    parentRefs:
      - name: envoy-gateway
        namespace: envoy-gateway
        sectionName: web-https

  photon:
    config:
      country: nl
      updateInterval: '168h'
    persistence:
      storageClass: ceph-block-nvme-1
      size: 20Gi

  hostname: dawarich.feddema.dev
  config:
    oidc:
      enabled: true
      autoRegister: true
      providerName: Authentik
      issuerUrl: https://authentik.feddema.dev/application/o/dawarich/
      clientId: VMg5Qzbuu4jbhdZaP1QFGGsJsCAc1qFpSq3iO8kH
      secretName: oidc-credentials
