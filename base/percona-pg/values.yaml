postgresVersion: 15
pause: false

# users:
#   - name: rhino
#     databases:
#       - zoo
#     options: "SUPERUSER"
#     password:
#       type: ASCII
#     secretName: "rhino-credentials"

# expose:
#   type: LoadBalancer

instances:
- name: instance1
  replicas: 2

  resources:
    limits:
      memory: 512Mi
      cpu: null
    requests:
      memory: 256Mi
      cpu: 50m

  walVolumeClaimSpec:
    accessModes:
    - "ReadWriteOnce"
    resources:
      requests:
        storage: 1Gi

  dataVolumeClaimSpec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 64Gi

proxy:
  pgBouncer:
    replicas: 1
    exposeSuperusers: false
    resources:
      limits:
        cpu: null
        memory: 128Mi
      requests:
        cpu: 30m
        memory: 64Mi
#
#      expose:
#        annotations:
#          my-annotation: value1
#        labels:
#          my-label: value2
#        type: LoadBalancer
#
#      config:
#        global:
#          pool_mode: transaction

pmm:
  enabled: false

# patroni:
#   dynamicConfiguration:
#     postgresql:
#       parameters:
#         max_parallel_workers: 2
#         max_worker_processes: 2
#         shared_buffers: 1GB
#         work_mem: 2MB

secrets:
  name:
  # replication user password
  primaryuser:
  # superuser password
  postgres:
  # pgbouncer user password
  pgbouncer:
  # pguser user password
  pguser:
